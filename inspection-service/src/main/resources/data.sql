CREATE DATABASE lv_safety_verification;
use lv_safety_verification;


--------> part_3  Periodic_inspection
CREATE TABLE periodic_inspection_table(

            PERIODIC_INSPECTION_ID INT AUTO_INCREMENT,
            SITE_ID INT,
			USER_NAME VARCHAR(225),
			CREATED_BY VARCHAR(255),
		    CREATED_DATE datetime,
		    UPDATED_BY VARCHAR(255),
            UPDATED_DATE datetime,
			CONSTRAINT PK_PERIODIC_INSPECTION_ID PRIMARY KEY(PERIODIC_INSPECTION_ID)

);
CREATE TABLE ipao_inspection_table (
            IPAO_INSPECTION_ID INT AUTO_INCREMENT,
            PERIODIC_INSPECTION_ID INT,
            LOCATION_NUMBER INT,
            LOCATION_NAME VARCHAR(225),
            I_SERVICE_CABLE VARCHAR(20),
            I_SERVICE_FUSE VARCHAR(20),
            I_METER_DISTRIBUTOR VARCHAR(20),
            I_METER_CONSUMER VARCHAR(20),
            I_METER_EQU VARCHAR(20),
            I_ISOLATOR VARCHAR(20),
            P_EARTHING_ARRANGEMENT VARCHAR(20),
            P_ADEQUATE_ARRANGEMENT VARCHAR(20),
            P_CONNECTION_GENERATOR VARCHAR(20),
            P_COMPATIBILITY_CHARACTERISTICS VARCHAR(20),
            P_AUTOMATIC_DISCONNECT_GENERATOR VARCHAR(20),
            P_PREVENT_CONNECT_GENERATOR VARCHAR(20),
            P_ISOLATE_GENERATOR VARCHAR(20),
            A_MAIN_EARTHING VARCHAR(20),
            A_EARTH_ELECTORDE_ARRANGEMENT VARCHAR(20),
            A_EARTH_CONDUCTOR_CONNECTION VARCHAR(20),
            A_ACCESSIBILITY VARCHAR(20),
            A_MAIN_PROTECT_BONDING VARCHAR(20),
            A_ALL_PROTECT_BONDING VARCHAR(20),
            A_ALL_APPROPRIATE_LOCATION VARCHAR(20),
            A_FELV_REQUIREMENT VARCHAR(20),
            O_SELV_SYSTEM VARCHAR(20),
            O_PELV_SYSTEM VARCHAR(20),
            O_DOUBLE_INSULATION VARCHAR(20),
            O_REINFORCED_INSULATION VARCHAR(20),
            O_BASIC_ELECTRICAL_SEPARTION VARCHAR(20),
            O_INSULATION_LIVE_PARTS VARCHAR(20),
            O_BARRIERS_ENCLOSERS VARCHAR(20),
            O_OBSTACLES VARCHAR(20),
            O_PLACING_OUT_REACH VARCHAR(20),
            O_FAULT_NON_CONDUCT_LOCATION VARCHAR(20),
            O_FAULT_ELECTRICAL_SEPARTION VARCHAR(20),
            O_OPERATING_CURRENT VARCHAR(20),
            O_SUPPLEMENTARY_BONDING VARCHAR(20),
            CONSTRAINT PK_IPAO_INSPECTION_ID PRIMARY KEY(IPAO_INSPECTION_ID),
            CONSTRAINT FK_PERIODIC_INSPECTION_ID  FOREIGN KEY (PERIODIC_INSPECTION_ID) REFERENCES PERIODIC_INSPECTION_TABLE(PERIODIC_INSPECTION_ID) ON DELETE CASCADE
 );
 
 CREATE TABLE consumer_table (  
            CONSUMER_ID INT AUTO_INCREMENT,
	        IPAO_INSPECTION_ID INT,
            ACCESS_AND_WORKING VARCHAR(20),
            SECURITY_OF_FIXING VARCHAR(20),
            LIVE_PARTS_NOT_DAMAGE VARCHAR(20),
            SECURITY_OF_BARRIERS VARCHAR(20),
            SUITABILITY_OF_ENCLOSURE VARCHAR(20),
            ENCLOSURE_NOT_DAMAGED VARCHAR(20),
            PRESENCE_OF_OBSTACLES VARCHAR(20),
            PLACING_OUT_OF_CONSUMER VARCHAR(20),
            PRESENCE_MAIN_SWITCHES VARCHAR(20),
            OPERATION_MAIN_SWITCHES VARCHAR(20),
            MANUAL_CIRCUIT_BREAKERS VARCHAR(20),
            SWITCH_CAUSES_RCD VARCHAR(20),
            RCD_FAULT_PROTECTION VARCHAR(20),
            RCD_ADDITIONAL_PROTECTION VARCHAR(20),
            OVER_VOLTAGE_PROTECTION VARCHAR(20),
            INDICATION_OF_SPD VARCHAR(20),
            RCD_QUARTERLY_TEST VARCHAR(20),
            DIAGRAMS_CHARTS VARCHAR(20),
            NONSTANDARD_CABLE_COLOUR VARCHAR(20),
            AL_SUPPLY_OF_ORIGN VARCHAR(20),
            AL_SUPPLY_OF_METER VARCHAR(20),
            AL_SUPPLY_DISTRIBUTION VARCHAR(20),
            ALL_POINTS_ISOLATION VARCHAR(20),
            NEXT_INSPECTION VARCHAR(20),
            OTHER_REQUIRED_LABELLING VARCHAR(20),
            BASES_CORRECT_TYPE VARCHAR(20),
            SINGLE_POLE VARCHAR(20),
            MECHANICAL_DAMAGE VARCHAR(20),
            ELECTROMAGNETIC VARCHAR(20),
            ALL_CONDUCTOR_CON VARCHAR(20),
			CONSTRAINT PK_CONSUMER_ID PRIMARY KEY(CONSUMER_ID),
			CONSTRAINT FK_CONSUMER_IPAO_INSPECTION_ID  FOREIGN KEY (IPAO_INSPECTION_ID) REFERENCES IPAO_INSPECTION_TABLE(IPAO_INSPECTION_ID) ON DELETE CASCADE

 );
		
CREATE TABLE circuit_table (      
            CIRCUIT_ID INT AUTO_INCREMENT,
		    IPAO_INSPECTION_ID INT ,
            IDENTIFICATION_CONDUCTORS VARCHAR(20),
            CABLE_INSTALLATION VARCHAR(20),
            EXAMINATION_CABLES VARCHAR(20),
            EXAMINATION_INSULATION VARCHAR(20),
            NON_SHEATHED_CABLES VARCHAR(20),
            CONTAINMENT_SYSTEMS VARCHAR(20),
            TEMPERATURE_RATING VARCHAR(20),
            CABLES_TERMINATED VARCHAR(20),
            CURRENT_CARRY_CAPACITY VARCHAR(20),
            ADEQUACY_PROTECT_DEVICES VARCHAR(20),
            PRESENCE_PROTECT_CONDUCTORS VARCHAR(20),
            CO_ORDINATION VARCHAR(20),
            WIRING_SYSTEMS VARCHAR(20),
            CABLES_CONCEAL_UNDER_FLOORS VARCHAR(20),
            OPERATING_CURRENT_CIRCUITS VARCHAR(20),
            OPERATING_CURRENT_SOCKET VARCHAR(20),
            CABLES_CONC_DEPTH VARCHAR(20),
            SECTIONS_REGARDLESS_DEPTH VARCHAR(20),
            PROVISION_FIRE_BARRIERS VARCHAR(20),
            SEPARATION_BAND VARCHAR(20),
            SEPARATION_ELECTRICAL VARCHAR(20),
            CONDITION_CIRCUIT_ACCESSORIES VARCHAR(20),
            CONDUCTOR_CORRECT_TERMINATED VARCHAR(20),
            CONDUCTOR_VISIBLE_OUTSIDE VARCHAR(20),
            CONN_LIVE_CONDUCTORS VARCHAR(20),
            ADEQUATELY_CONNECTED_ENCLOSURE VARCHAR(20),
            SUITABILITY_CIRCUIT_ACCESSORIES VARCHAR(20),
            CONDITION_ACCESSORIES VARCHAR(20),
            SINGLE_POLE_DEVICES VARCHAR(20),
            ADEQUACY_CONNECTIONS VARCHAR(20),
            ISOLATION_AND_SWITCHING VARCHAR(20),
			CONSTRAINT PK_CIRCUIT_ID PRIMARY KEY(CIRCUIT_ID),
			CONSTRAINT FK_CIRCUIT_IPAO_INSPECTION_ID  FOREIGN KEY (IPAO_INSPECTION_ID) REFERENCES IPAO_INSPECTION_TABLE(IPAO_INSPECTION_ID) ON DELETE CASCADE
);    
		
		                    
CREATE TABLE isolation_current_table (       
            ISOLATION_CURRENT_ID INT AUTO_INCREMENT,
	    	IPAO_INSPECTION_ID INT,
            I_PRESENCE_DEVICES VARCHAR(20),
            I_CONDITION_DEVICES VARCHAR(20),
            I_LOCATION_DEVICES VARCHAR(20),
            I_CAPABLE_SECURED VARCHAR(20),
            I_OPERATION_VERIFY VARCHAR(20),
            I_INSTALL_CIRCUIT VARCHAR(20),
            I_WARNING_LABEL VARCHAR(20),
            SW_PRESENCE_DEVICES VARCHAR(20),
            SW_CONDITION_DEVICES VARCHAR(20),
            SW_ACCEPTABLE_LOCATION VARCHAR(20),
            SW_CAPABLE_OFF_POSITION VARCHAR(20),
            SW_CORRECT_OPERATION VARCHAR(20),
            SW_CIRCUIT VARCHAR(20),
            SW_WARNING_LABEL VARCHAR(20),
            EM_SWIT_PRESENCE_DEVICES VARCHAR(20),
            EM_SWIT_CONDITION_DEVICES VARCHAR(20),
            EM_SWIT_LOCATION_DEVICES VARCHAR(20),
            EM_SWIT_OPERATION_VERIFY VARCHAR(20),
            EM_SWIT_INSTALL_CIRCUIT VARCHAR(20),
            FU_SWIT_PRESENCE_DEVICES VARCHAR(20),
            FU_SWIT_LOCATION_DEVICES VARCHAR(20),
            FU_SWIT_OPERATION_VERIFY VARCHAR(20),
            C_SUITABILITY_EQUIPMENT VARCHAR(20),
            C_ENCLOSURE_NOT_DAMAGED VARCHAR(20),
            C_SUITABILITY_ENVIRONMENT VARCHAR(20),
            C_SECURITY_FIXING VARCHAR(20),
            C_CABLE_ENTRY_HOLES VARCHAR(20),
            C_PROVISION_VOLTAGE VARCHAR(20),
            C_PROVISION_OVERLOAD VARCHAR(20),
            C_CORRECT_TYPE_LAMPS VARCHAR(20),
            C_INSULA_DISPLACEMENT_BOX VARCHAR(20),
            C_OVERHEAT_SURROUNDING VARCHAR(20),
            C_OVERHEAT_CONDUCTORS VARCHAR(20),
			CONSTRAINT PK_ISOLATION_CURRENT_ID PRIMARY KEY(ISOLATION_CURRENT_ID),
			CONSTRAINT FK_ISOLATION_IPAO_INSPECTION_ID  FOREIGN KEY (IPAO_INSPECTION_ID) REFERENCES IPAO_INSPECTION_TABLE(IPAO_INSPECTION_ID) ON DELETE CASCADE

);

